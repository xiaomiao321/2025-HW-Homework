需要修改.ld文件，把`(READONLY)`替换为空，也可以去`D:\files\25-26Autumn\RM\env_2`复制

TIM2-Clock Source选择Internal Clock，设置Prescaler和Internal Clock Division

$T_{out}=((arr+1)*(psc+1))/T_{clk}$

然后定时器的NVIC Settings，把TIM2 global interrupt的Enabled勾选上

生成代码，修改.ld文件，点build，可在`./build.Debug`下找到.elf文件

在main函数使能中断

```cpp
  HAL_TIM_Base_Start_IT(&htim2);
```

在main函数下方重写中断服务函数

```cpp
void HAL_TIM_PeriodElapsedCallback(TIM_HandleTypeDef *htim) {
  if (htim == &htim2) {
    HAL_GPIO_TogglePin(GPIOC, GPIO_PIN_13);
  }
}
```

监视变量：

右键变量——watch，右键——graph，打开view的Timeline

在.hpp文件加入

```cpp
#ifdef __cplusplus
extern "C"{
#endif
    ...
        
        
#ifdef __cplusplus
}
#endif
```

中间写函数声明，这样才能同时编译.c和.cpp

要求：Tasks目录下加入`task.cpp`和`task.hpp`

写`MainInit()`和`MainTask()`函数，`MainTask()`在回调函数中被调用
